# github的学习笔记

___仓库地址：https://github.com/Lence570/xiye.git___

###  对github的总结：github是一个及其适用于程序员的，文本处理的软件+社区，主要追踪程序员对文本的改动，有着极为灵活的多人合作机制和个人回溯机制。
### 其主体分为两个部分，远程仓库（云端）和个人仓库（本地），程序员可以在本地编辑代码文本，并记录下自己的每一次改动，也可随时回溯，回溯功能体现了github强大而灵活的版本追踪功能。
### 其远程仓库保存的文本可被多人编辑，同样拥有回溯功能，可避免文本被覆盖而无法找回的悲剧。

## git的安装和注册，本地与云端的连接：

​                         git安装包要___翻墙___。

大概流程：   1. 翻墙下载安装包。（梯子就是麻烦）
          2.安装，在github网站上注册自己的账号，邮箱。
          3.在git上连接自己的账号与邮箱。
          （操作示例）

```C
$ git config --global user.name "我的名字"
$ git config --global user.email "我的邮箱"
```

​      4.建立本地仓库（文件夹），将git移动到那里master。(用___git init___指令)
​      5.建立云端仓库，使用SSH公钥连接github.com。
​       （操作示例：见网站https://blog.csdn.net/qq_36667170/article/details/79094257）
（一些可能用的指令：    ___$ git remote -v   检查添加成功的远程仓库___）

## 一些关于仓库的概念 
0. 暂存区和git文件夹合称为版本库。
1. 工作区：程序员日常操作的区域。
2. 暂存区：add之后文件所在区域，commit一次性提交statu区的内容，用___git status___指令可查看其中的状态。（add其实可以视作为一种复制操作）

   ## 有关于本地仓库的应用

​     用到的指令：
​            ___有关提交与操作___
​             git add 文件名.后缀(文件丢到暂存区）
​                           git commit （把暂存区文件全部丢仓库）
​                           git commit -m___"想写什么写什么，主要给程序员记忆版本的内容"___
​                           git status (查看程序当前状态)
​             ___有关修改___
​             ___git log___(显示从最近到最远的提交日志)
​             (加上--pretty=oneline）参数可只输出版本号
​             __git reset__ --hard HEAD^(返回上一个版本)（HEAD指代当前版本）
​            ___git reset___ --hard 某某版本号前几位辨识性数字
​             回溯后回到未来（前提是还找得到版本号，可用___git reflog___记录）
​             （这条指令的另一个作用是撤销暂存区的修改，与返回版本原理类似但不同）
​             ___git checkout___ -- 文件 ，可以将工作区的修改丢弃。
​             （若已经add，则返回add后的状态；若没有，则返回版本库状态）
​             ___rm___ 文件 ，删除某文件。（___搭配commit使用___，修改版本库）

  ## 有关于远程仓库的应用

  关联本地与云端：

___$ git remote add 远仓在本地的代称 git@github.com:我的用户名/云端仓库名.git    ___

___$ git log --follow 文件名.文件类型___       ↘↘↘
___$ git whatchanged 文件名.文件类型___   (显示某个文件的版本历史，包括文件改名)
   __$ git shortlog -sn__                               (显示所有提交过的用户，按提交次数排序)
   ___$ git blame 文件名.文件类型___             (显示指定文件是什么人在什么时间修改过)

传输指令：
    ___git push 远仓在本地的代称 master___
    "由于远程库是空的，我们第一次推送master分支时，加上了-u参数，Git不但会把本地的master分支内容推送的远程新的master分支，还会把本地的master分支和远程的master分支关联起来，在以后的推送或者拉取时就可以简化命令。”
    
   克隆仓库（云到地）：
___$ git clone git@github.com:我的用户名/云端仓库名.git___
   （PS:网址用HTTP等指令也是可以的，不过每次要输入秘钥，会慢，网也会卡。）

 # 问题，解法及感受

1. 首先是___翻墙___，前几年还好，随便花点钱就能架个梯子出去，就连谷歌浏览器有时候都能“钻狗洞“偷偷跑出去，这几年梯子大量被封，一看SSR，又需要机场和节点，各个设置在没有相关知识的情况下等于两眼一抹黑，免费节点也是一件比较麻烦的事情。

   解：既然流量不大，直接用手机翻出去下好了。

   2. ___SSH秘钥这个东西也是一个麻烦___，本地库的建立非常方便，用SSH公钥连接云端的时候各种连不上，时不时弹出一个“找不到库，您输入的地址是否正确呀？？”又或者是“github.com___嫌弃___你的链接。”那没办法了。

      解：百度，上CSDN，得到了几个网站。

      https://blog.csdn.net/hanxueyu666/article/details/78698450  有关于SSH的设置。

      https://www.cnblogs.com/Hepta/p/9140548.html 这个网站用了某种神奇的agent 给搞定了云端和本地连接的事情，示例如下：
      $$
      eval `ssh-agent -s`
      
      ssh-add ~/.ssh/id_rsa
      $$

      3. 手抖点到个不知道什么符号`一直弹出一个>让我输入，百度得到___ctrl+d___退出。
      
      4. commit内容发现老是冒红字，原来是因为对add和rm指令还没有手打一遍命令行的问题，也就是说，我用鼠标删除的文件，还要在GITHUB里面打一遍命令行才算真正删除，确实双保险嗷~~~
      
      5. 在对本地仓库操作室遇到"有其他人在编辑这个git，所以balabalabala"，去.git文件夹删除index.lock。（baidu）。
      
      6. 在删除某个文件之后，那个文件死死赖在我工作区不走，还显示“staged not be commited”，经百度得知，可以用___git add .___ 来解决。（___别忘了add后面那个点.___）
      
      7. 在github非正常退出是，会留下一个swp文件作为文本编辑的存在留存，在commit的时候会进行干扰，解决方法：
      
         ```
         //在当前目录下面执行ll命令是看不见这个文件的，可以直接执行命令：//
         rm -rf .redis.conf.swp
         //搞定//
         ```
      
         https://blog.csdn.net/sinat_33087001/article/details/80935285   解决网站之一
      
         ```
         //第一步：回到合并前状态//
          git merge -abort  // 中止合并
          rm .git/.MERGE_MSG.sw* //删除 vim 非正常关闭产生的文件
         //第二步：重新合并//
         
         /*合并提交信息页面，使用 :wq! 或者 :q! 正常退出 VIM ，就能正常合并啦。 
         PS： 如果 .git/MERGE_* 文件中 只有 MERGE_MSG 文件的话，不用执行 git merge -abort ,直接删除 .MERGE_MSG.sw* 文件就好。 
         其实就是两个分支在合并的时候合并文件非正常退出，或者合并文件正在被另一个程序修改（换句话说就是别人也在执行两个分支合并这件事），我觉得最佳方案是，先终止合并，删除 vim 非正常关闭产生的文件，询问团队内是否有人在执行合并，如果没人，此时再重新执行合并。*/
         
         
         ```
      
         
      
      8. ___在github 的使用方面，因为有课有作业，所以还没学深暂时没遇到可以拦得住人的问题。___